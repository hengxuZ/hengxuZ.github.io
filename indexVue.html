<DOCTYPE html!>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script src="js/vue.js"></script>
	<!-- <script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script> -->
<!-- 	<script src="js/jquery-3.1.1.min.js"></script> -->
	<script src="js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="js/bootstrap.min.css">
	<style>

	</style>
</head>
<body>
	<div class="container" id="box" style="display: table">
		
		
		<table class="table table-bordered table-hover">
			<caption class="h2 text-center text-info">购物车</caption>
			<tr>
				
				<th class="text-center" >序号</th>
				<th class="text-center" >商品</th>
				<th class="text-center" >价格</th>
				<th  class="text-center">操作</th>
				
			</tr>

			<tr class="text-center" v-for="(value,index) in myData">
				<td>{{index}}</td>
				<td>{{value.name}}</td>
				<td>{{value.price}}</td>
				<td>
					<input type="button" class="btn btn-danger" value="删除" v-on:click="remove(index)">
				</td>
			</tr>
			<tr v-show="myData.length==0">
				<td colspan="4" class="text-center text-muted" >
					<p>暂无商品....</p>
				</td>
			</tr>			
			<tr>
				<td colspan="4" class="text-right text-muted" >
					<p>总价:<strong v-html="sum"></strong></p>
				</td>
			</tr>			
			
		</table>


		<form role="form-group" class="form-inline">
			<div class="form-group">
				<label for="username">商品:</label>
				<input type="text" id="username" class="form-control" placeholder="请输入商品" v-model="username">
			</div>

			<div class="form-group">
				<label for="username">价格:</label>
				<input type="text" id="username" class="form-control" placeholder="请输入价格" v-model="price">
			</div>
			<div class="form-group">
				<input type="button" class="btn btn-primary" value="增添" v-on:click="add()">
				<input type="reset" class="btn btn-muted" value="重置">				
			</div>			
		</form>		

<!-- 
		<div role="dialog" class="modal" id="layer">
			<div class="modal-dialog">
				<div class="modal-center">
					<div class="modal-header">
						<button class="close">
							&times;
						</button>
						<h4 class="modal-title">确认删除？</h4>
					</div>
				</div>
			</div> -->
			
<div class="alert alert-warning" v-show="alert">
	<a href="#" class="close" data-dismiss="alert">
		&times;
	</a>
	<strong>提示！</strong>商品不能为空！
</div>	
	
	</div>
	
<script>

	new Vue({
		el:"#box",
		data:{
			myData:[
				{name:"赠品巧克力",price:0.01},
				{name:"平凡的世界",price:68},
			],
			username:"",
			price:"",
			alert:false
		},
		computed:{
			sum:function(){
		      var result = 0;
		      for (var i=0;i<this.myData.length;i++){
		        result += Number(this.myData[i].price)
		      };
		      return result;				
			}
		},
		methods:{
			add:function()
			{
				if(this.username != "")
				{
					this.myData.push({
					name:this.username,
					price:this.price,
						
					})
					this.username = "",
					this.price = "",		
					this.alert = false	
				}
				else
				{
					this.alert = true
				}
			},
			remove:function(e) 
			{
				this.myData.splice(e,1)

			}
		}
	})

</script>
</script>
</body>
</html>
